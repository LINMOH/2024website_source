---
title: 队列 Queue
date: 2025-02-18 
categories: 数据结构
top_img: /img/top/4.png
---

# 队列 Queue



队列（Queue）是一种线性数据结构，它遵循“先进先出”（FIFO，First In First Out）原则，即第一个进入队列的元素将是第一个被移除的元素。队列的结构像排队的人群，先到的人先得到服务。

### 队列的特点：

1.  **先进先出（FIFO）**：队列的访问顺序遵循先进先出的原则，最先加入的元素最先被移除。
2.  **操作限制**：队列只允许在一端进行插入操作（称为队尾），只允许在另一端进行删除操作（称为队头）。
3.  **存储结构**：队列可以使用数组或链表来实现。

### 队列的常见操作：

1.  **enqueue（入队）**：将元素加入到队列的尾部。
2.  **dequeue（出队）**：从队列的头部移除元素，并返回该元素的值。
3.  **peek（或 front）**：查看队列头部的元素，但不移除它。
4.  **isEmpty**：检查队列是否为空。
5.  **size**：返回队列中元素的个数。

### 队列的应用：

1.  **任务调度**：操作系统使用队列来管理进程调度。队列用于存放等待执行的任务，系统会按照先进先出的顺序执行这些任务。
2.  **打印队列**：在打印机中，打印任务通常以队列的形式管理。先发出的打印任务先被处理。
3.  **消息队列**：在计算机网络和多线程编程中，消息队列常用来管理不同任务或进程间的通信。消息按照先进先出的顺序进行传递。
4.  **广度优先搜索（BFS）**：广度优先搜索算法（BFS）使用队列来遍历图或树的节点。

### 队列的示例（C++）：

```c++
#include <iostream>
#include <queue>  // 引入queue头文件
using namespace std;

int main() 
{
    queue<int> q;  // 创建一个空队列

    // enqueue操作：入队
    q.push(10);  // 入队10
    q.push(20);  // 入队20
    q.push(30);  // 入队30

    // peek操作：查看队头元素
    cout << "队头元素: " << q.front() << endl;  // 输出: 10

    // dequeue操作：出队
    q.pop();  // 出队10

    // 打印队头元素
    cout << "出队后, 队头元素: " << q.front() << endl;  
    // 输出: 20

    // isEmpty操作：检查队列是否为空
    if (!q.empty()) 
    {
        cout << "队列不是空的!" << endl;  // 输出: 队列不是空的!
    }

    // size操作：获取队列的大小
    cout << "队列的大小: " << q.size() << endl;  // 输出: 2

    return 0;
}
```

### 代码解析：

1.  `push`：将元素添加到队列的尾部。
2.  `front`：查看队列头部元素的值。
3.  `pop`：从队列的头部移除元素。
4.  `empty`：检查队列是否为空。
5.  `size`：返回队列中的元素个数。

### 队列的优缺点：

**优点**：

* **操作简单**：队列的插入和删除操作非常简单且高效。
* **顺序性强**：队列适用于需要按顺序处理数据的场景。

**缺点**：

* **访问受限**：队列只允许访问队头元素，不能随机访问队列中的其他元素。
* **空间浪费**：如果使用数组实现队列，可能会出现空间浪费问题，尤其是在元素删除后，队头的位置没有被及时重用（这种情况常见于数组实现的循环队列中）。

### 队列的应用实例：

1.  **操作系统中的任务调度**：操作系统在多任务管理中常使用队列来调度任务。任务按照进入队列的顺序依次执行，确保公平性。
2.  **打印任务管理**：多个打印任务进入队列后，打印机按顺序依次处理这些任务。
3.  **广度优先搜索（BFS）**：在图的遍历算法中，BFS利用队列实现对每一层节点的逐层访问，确保先访问靠近起点的节点。
4.  **生产者-消费者问题**：队列可以作为生产者和消费者之间共享缓冲区，生产者将产品放入队列，消费者从队列中取出产品，保证了生产和消费的同步。

### 队列的变种：

1.  **双端队列（Deque）**：双端队列是可以在两端进行插入和删除操作的队列。它可以作为队列或栈使用，具有更多的灵活性。
2.  **循环队列**：为了避免数组实现队列时出现空间浪费，循环队列利用环形数组结构，当队列的尾部到达数组末端时，会重新使用数组的开头部分。
